(function(e){e.PluginManager.add("lineheight",function(t,n,r){t.on("init",function(){t.formatter.register({lineheight:{inline:'span',styles:{"line-height":"%value",display:"inline-block"}}})});t.addButton("lineheightselect",function(){var n=[],r="0.5 0.6 0.7 0.8 0.9 1 1.1 1.2 1.3 1.4 1.5 1.6 1.7",i=t.settings.lineheight_formats||r;i.split(" ").forEach(function(e){var t=e,r=e,i=e.split("=");if(i.length>1){t=i[0];r=i[1]};n.push({text:t,value:r})});return{type:"listbox",text:'Интервал',tooltip:"Межстрочный интервал",values:n,fixedWidth:true,onPostRender:function(){var e=this;t.on("nodeChange",function(r){var i="lineheight",s=t.formatter,o=null;r.parents.forEach(function(e){n.forEach(function(t){if(i){if(s.matchNode(e,i,{value:t.value}))o=t.value}else if(s.matchNode(e,t.value))o=t.value;if(o)return false});if(o)return false});e.value(o)})},onselect:function(t){e.activeEditor.formatter.apply("lineheight",{value:this.value()})}}})});e.PluginManager.requireLangPack("lineheight","de");e.PluginManager.requireLangPack("lineheight","ru")})(tinymce)